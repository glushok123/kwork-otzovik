/*!
 * Theia Sticky Sidebar v1.7.0
 * https://github.com/WeCodePixels/theia-sticky-sidebar
 *
 * Glues your website's sidebars, making them permanently visible while scrolling.
 *
 * Copyright 2013-2016 WeCodePixels and other contributors
 * Released under the MIT license
 */(function(a){a.fn.theiaStickySidebar=function(c){var x={containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:0,disableOnResponsiveLayouts:!0,sidebarBehavior:"modern",defaultPosition:"relative",namespace:"TSS"};c=a.extend(x,c),c.additionalMarginTop=parseInt(c.additionalMarginTop)||0,c.additionalMarginBottom=parseInt(c.additionalMarginBottom)||0,T(c,this);function T(e,n){var h=S(e,n);h||(console.log("TSS: Body width smaller than options.minWidth. Init is delayed."),a(document).on("scroll."+e.namespace,function(t,p){return function(l){var b=S(t,p);b&&a(this).unbind(l)}}(e,n)),a(window).on("resize."+e.namespace,function(t,p){return function(l){var b=S(t,p);b&&a(this).unbind(l)}}(e,n)))}function S(e,n){return e.initialized===!0?!0:a("body").width()<e.minWidth?!1:(B(e,n),!0)}function B(e,n){e.initialized=!0;var h=a("#theia-sticky-sidebar-stylesheet-"+e.namespace);h.length===0&&a("head").append(a('<style id="theia-sticky-sidebar-stylesheet-'+e.namespace+'">.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>')),n.each(function(){var t={};if(t.sidebar=a(this),t.options=e||{},t.container=a(t.options.containerSelector),t.container.length==0&&(t.container=t.sidebar.parent()),t.sidebar.parents(":not(.theia-exception)").css("-webkit-transform","none"),t.sidebar.css({position:t.options.defaultPosition,overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),t.stickySidebar=t.sidebar.find(".theiaStickySidebar"),t.stickySidebar.length==0){var p=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;t.sidebar.find("script").filter(function(i,d){return d.type.length===0||d.type.match(p)}).remove(),t.stickySidebar=a("<div>").addClass("theiaStickySidebar").append(t.sidebar.children()),t.sidebar.append(t.stickySidebar)}t.marginBottom=parseInt(t.sidebar.css("margin-bottom")),t.paddingTop=parseInt(t.sidebar.css("padding-top")),t.paddingBottom=parseInt(t.sidebar.css("padding-bottom"));var l=t.stickySidebar.offset().top,b=t.stickySidebar.outerHeight();t.stickySidebar.css("padding-top",1),t.stickySidebar.css("padding-bottom",1),l-=t.stickySidebar.offset().top,b=t.stickySidebar.outerHeight()-b-l,l==0?(t.stickySidebar.css("padding-top",0),t.stickySidebarPaddingTop=0):t.stickySidebarPaddingTop=1,b==0?(t.stickySidebar.css("padding-bottom",0),t.stickySidebarPaddingBottom=0):t.stickySidebarPaddingBottom=1,t.previousScrollTop=null,t.fixedScrollTop=0,g(),t.onScroll=function(i){if(i.stickySidebar.is(":visible")){if(a("body").width()<i.options.minWidth){g();return}if(i.options.disableOnResponsiveLayouts){var d=i.sidebar.outerWidth(i.sidebar.css("float")=="none");if(d+50>i.container.width()){g();return}}var s=a(document).scrollTop(),o="static";if(s>=i.sidebar.offset().top+(i.paddingTop-i.options.additionalMarginTop)){var H=i.paddingTop+e.additionalMarginTop,w=i.paddingBottom+i.marginBottom+e.additionalMarginBottom,z=i.sidebar.offset().top,I=i.sidebar.offset().top+M(i.container),y=0+e.additionalMarginTop,u,P=i.stickySidebar.outerHeight()+H+w<a(window).height();P?u=y+i.stickySidebar.outerHeight():u=a(window).height()-i.marginBottom-i.paddingBottom-e.additionalMarginBottom;var W=z-s+i.paddingTop,R=I-s-i.paddingBottom-i.marginBottom,r=i.stickySidebar.offset().top-s,k=i.previousScrollTop-s;i.stickySidebar.css("position")=="fixed"&&i.options.sidebarBehavior=="modern"&&(r+=k),i.options.sidebarBehavior=="stick-to-top"&&(r=e.additionalMarginTop),i.options.sidebarBehavior=="stick-to-bottom"&&(r=u-i.stickySidebar.outerHeight()),k>0?r=Math.min(r,y):r=Math.max(r,u-i.stickySidebar.outerHeight()),r=Math.max(r,W),r=Math.min(r,R-i.stickySidebar.outerHeight());var v=i.container.height()==i.stickySidebar.outerHeight();!v&&r==y||!v&&r==u-i.stickySidebar.outerHeight()?o="fixed":s+r-i.sidebar.offset().top-i.paddingTop<=e.additionalMarginTop?o="static":o="absolute"}if(o=="fixed"){var L=a(document).scrollLeft();i.stickySidebar.css({position:"fixed",width:m(i.stickySidebar)+"px",transform:"translateY("+r+"px)",left:i.sidebar.offset().left+parseInt(i.sidebar.css("padding-left"))-L+"px",top:"0px"})}else if(o=="absolute"){var f={};i.stickySidebar.css("position")!="absolute"&&(f.position="absolute",f.transform="translateY("+(s+r-i.sidebar.offset().top-i.stickySidebarPaddingTop-i.stickySidebarPaddingBottom)+"px)",f.top="0px"),f.width=m(i.stickySidebar)+"px",f.left="",i.stickySidebar.css(f)}else o=="static"&&g();o!="static"&&i.options.updateSidebarHeight==!0&&i.sidebar.css({"min-height":i.stickySidebar.outerHeight()+i.stickySidebar.offset().top-i.sidebar.offset().top+i.paddingBottom}),i.previousScrollTop=s}},t.onScroll(t),a(document).on("scroll."+t.options.namespace,function(i){return function(){i.onScroll(i)}}(t)),a(window).on("resize."+t.options.namespace,function(i){return function(){i.stickySidebar.css({position:"static"}),i.onScroll(i)}}(t)),typeof ResizeSensor<"u"&&new ResizeSensor(t.stickySidebar[0],function(i){return function(){i.onScroll(i)}}(t));function g(){t.fixedScrollTop=0,t.sidebar.css({"min-height":"1px"}),t.stickySidebar.css({position:"static",width:"",transform:"none"})}function M(i){var d=i.height();return i.children().each(function(){d=Math.max(d,a(this).height())}),d}})}function m(e){var n;try{n=e[0].getBoundingClientRect().width}catch{}return typeof n>"u"&&(n=e.width()),n}return this}})(jQuery);
